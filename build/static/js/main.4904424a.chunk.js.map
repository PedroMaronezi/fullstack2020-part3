{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","value","handleChange","onChange","PersonForm","props","onSubmit","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","handleClick","name","number","onClick","Persons","persons","map","id","baseUrl","service","getAll","axios","get","then","response","data","create","newPerson","post","deletePerson","delete","update","newObject","put","Notification","message","style","App","useState","setPersons","setNewName","setNewNumber","filterName","setFilterName","notificationMessage","setNotificationMessage","notificationStyle","setNotificationStyle","success","color","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","filteredPeople","filter","toLowerCase","includes","useEffect","personsService","initialPeople","console","log","event","target","preventDefault","some","window","confirm","p","find","updatedPerson","setTimeout","catch","error","personObject","createdPerson","concat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4904424a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ value, handleChange }) => {\r\n  return (\r\n    <div>\r\n      Filter shown with <input value={value} onChange={handleChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n            name: <input value={props.newName} onChange={props.handleNameChange} />\r\n            </div>\r\n            <div>\r\n            number: <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n  };\r\n\r\n\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Person = ({ person, handleClick }) => {\r\n    return (\r\n      <div>{person.name} {person.number} <button onClick={handleClick}>Delete</button></div>\r\n    );\r\n  };\r\n\r\n\r\n\r\nexport default Person;","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, handleClick }) => {\r\n    return (\r\n        <div>\r\n            {persons.map(person => <Person key={person.name} person={person} handleClick={() => handleClick(person.id)} />)}\r\n        </div>\r\n    );\r\n  };\r\n\r\n\r\n\r\nexport default Persons;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n// Get all the people\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// Create a new contact\r\nconst create = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// Delete an existing contact\r\nconst deletePerson = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\n// Update an existing contact\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst service = { getAll, create, deletePerson, update }\r\n\r\nexport default service;","import React from 'react'\r\n\r\nconst Notification = ({ message, style }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={style}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personsService from './services/persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterName, setFilterName ] = useState('')\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n  const [ notificationStyle, setNotificationStyle ] = useState(null)\n\n  const success = {\n    color: 'green',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  }\n\n  const errorStyle = {\n    color: 'red',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  }\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button clicked', event.target)\n\n    const existingName = persons.some(person => person.name === newName)\n\n    if (existingName){\n      const confirm = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      \n      if(confirm) {\n        const p = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n        const updatedPerson = {...p, number: newNumber}\n\n        personsService\n          .update(p.id, updatedPerson)\n          .then(response => {\n            setPersons(persons.map(person => person.id === p.id ? response : person))\n            setNewName('')\n            setNewNumber('')\n            setNotificationMessage(`Updated ${response.name}`)\n            setNotificationStyle(success)\n            setTimeout(() => setNotificationMessage(null), 3000)\n          })\n          .catch(error => {\n            console.log(error)\n            setNotificationMessage(`Information of ${p.name} has already been removed from server`)\n            setNotificationStyle(errorStyle)\n            setTimeout(() => setNotificationMessage(null), 3000)\n          })\n      }\n\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personsService\n        .create(personObject)\n        .then(createdPerson => {\n          setPersons(persons.concat(createdPerson))\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(`Added ${createdPerson.name}`)\n          setNotificationStyle(success)\n          setTimeout(() => setNotificationMessage(null), 3000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setNotificationMessage(`${error.response.data.error}`)\n          setNotificationStyle(errorStyle)\n          setTimeout(() => setNotificationMessage(null), 3000)\n        })\n    }\n  }\n\n  const deletePerson = id => {\n    const p = persons.find(person => person.id === id)\n    const popUp = window.confirm(`Delete ${p.name}?`)\n\n    if(popUp){\n      personsService\n        .deletePerson(id)\n        .then(() => setPersons(persons.filter(person => person.id !== id)))\n        .catch(error => {\n          console.log(error)\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setFilterName(event.target.value)\n\n  const filteredPeople = persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase()))\n\n  // Fetch data from the json-server\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPeople => {\n        console.log('promised resolved...')\n        setPersons(initialPeople)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} style={notificationStyle} />\n      <Filter value={filterName} handleChange={handleFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm handleSubmit={addPerson} newName={newName} handleNameChange={handleNameChange}\n      newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons persons={filteredPeople} handleClick={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}